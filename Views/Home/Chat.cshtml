@model RentNDrive.Models.UIModel.VehicleView
@{
    ViewData["Title"] = "Chat Page";
    Layout = "~/Views/Shared/_LoginLayout.cshtml";
}

<!-- Main Content -->
<div class="page-wrapper">
    <div class="container-fluid">

        <!-- Row -->
        <div class="row">
            <div class="col-sm-12">
                <div class="panel panel-default card-view">
                    <div class="panel-heading">
                        <div class="pull-left">
                            <h6 class="panel-title txt-dark">Chat</h6>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <div class="panel-wrapper collapse in">
                        <div class="panel-body">
                            <form asp-action="Chat" method="post" asp-controller="Home">
                                <div class="form-wrap mt-40">
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <input class="typeahead form-control text-success" type="text" asp-for="@Model.GetChatInfo.OwnerId" type="hidden">
                                                <input class="typeahead form-control text-success" type="text" asp-for="@Model.GetChatInfo.RenterId" type="hidden">
                                                <input class="typeahead form-control text-success" type="text" asp-for="@Model.GetChatInfo.VehicleId" type="hidden">


                                                <label class="label-control mb-10">Vehicle Name</label>
                                                <div id="the-basics">
                                                    <input class="typeahead form-control text-success" type="text" value="@Model.GetChatInfo.VehicleNameNotMapped" readonly>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="label-control mb-10">Owner Name</label>
                                                <div id="the-basics">
                                                    <input class="typeahead form-control  text-success" type="text" value="@Model.GetChatInfo.OwnerNameNotMapped" readonly>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="label-control mb-10">Message</label>
                                                <div id="bloodJetson">
                                                    <textarea rows="3" class="typeahead form-control" asp-for="GetChatInfo.Message" type="text" placeholder="Message"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group mb-0">

                                                <button type="submit" class="btn btn-info ">Submit</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /Row -->
        <!-- Row -->
        <div class="row">
                                @if (@Model.GetAllChat != null)
                                {

                                    @foreach (var item in @Model.GetAllChat)
                                    {
            <div class="col-md-6">
                <div class="panel panel-default card-view">
                    <div class="panel-wrapper collapse in">
                        <div class="panel-body pa-15">
                            <div class="panel-group accordion-struct" role="tablist" aria-multiselectable="true">
                                        <div class="panel panel-default">
                                            <div class="panel-heading activestate" role="tab" id="headingFive">
                                                <a role="button" data-toggle="collapse" href="#collapseFive" aria-expanded="true" aria-controls="collapseFive">
                                                    @if (@item.SenderInfo == "Renter")@item.RenterNameNotMapped
                                                    else @item.OwnerNameNotMapped
                                                </a>
                                            </div>
                                            <div id="collapseFive" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingFive">
                                                <div class="panel-body pa-25"><a asp-controller="Home" asp-action="Chat" asp-route-vehId="@item.VehicleId">@item.VehicleNameNotMapped </a></div>
                                                <div class="panel-body pa-25"> @item.Message<br />@item.SendDate</div>
                                            </div>
                                        </div>
                                    
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            }
                                }
        </div>
        <!-- /Row -->

    </div>
</div>
<!-- /Main Content -->
